# unity-demo-PinBall

## 脚本说明

### ObstacleGenerator (障碍生成器)
用于在组件表面生成多个障碍物预制体，支持多种类型和详细日志记录。

#### 新功能特性：
- ✅ 支持多种障碍物类型，每种可设置生成权重和最大数量限制
- ✅ 详细的生产日志记录，包括生成时间、位置、统计信息
- ✅ 生成统计信息显示各种障碍物的生成数量
- ✅ 可视化调试：在Scene视图中显示生成区域和障碍物位置
- ✅ 随机种子支持重现相同生成结果

#### 使用方法：
1. 将`ObstacleGenerator`脚本附加到具有Renderer或Collider组件的GameObject上
2. 在Inspector中配置障碍物类型：
   - **Obstacle Types**: 添加多个障碍物类型
     - **Prefab**: 障碍物预制体
     - **Weight**: 生成权重 (越高出现概率越大)
     - **Max Count**: 该类型的最大生成数量 (0=无限制)
3. 设置生成参数：
   - **Min Distance**: 障碍物最小间距
   - **Density**: 生成密度 (0-1)
   - **Margin**: 边缘边距
   - **Random Seed**: 随机种子
4. 配置日志选项：
   - **Enable Detailed Logging**: 启用详细日志
   - **Show Generation Stats**: 显示生成统计

#### 主要方法：
- `GenerateObstacles()`: 生成障碍物
- `ClearObstacles()`: 清除所有障碍物
- `GetObstacleCount()`: 获取总障碍物数量
- `GetObstacleCountByType(string prefabName)`: 获取指定类型数量
- `GetGenerationLog()`: 获取完整生成日志

#### 日志输出示例：
```
[14:30:25] 开始生成障碍物...
[14:30:25] 生成时间: 2025-01-21 14:30:25
[14:30:25] 生成区域: 中心=(0.0, 0.0, 0.0), 大小=(10.0, 1.0, 10.0)
[14:30:25] 有效生成区域: 大小=(8.0, 1.0, 8.0), 边距=1
[14:30:25] 随机种子: 12345
[14:30:25] 生成参数: 面积=64.00, 密度=0.5, 预估数量=32
[14:30:25] 泊松盘采样生成 28 个位置
[14:30:25] 生成障碍物: Pokeball 在位置 (-2.1, 0.0, 1.5)
[14:30:25] 生成障碍物: 钢珠 在位置 (1.8, 0.0, -0.9)
...
[14:30:25] 生成完成! 总共生成了 28 个障碍物
[14:30:25] 生成耗时: 0.023 秒
[14:30:25] 生成统计:
[14:30:25]   Pokeball: 15 个
[14:30:25]   钢珠: 13 个
```
